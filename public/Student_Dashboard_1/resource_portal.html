<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=arrow_upward" />
    


    <title>Responsive Dashboard Design #1 | AsmrProg</title>
</head>

<body>

    <div class="container">
        <!-- Sidebar Section -->
        <aside>
            <div class="toggle">
                <div class="logo">
                    <img src="images/image.png">
                    <h2><span class="danger"></span></h2>
                </div>
                <div class="close" id="close-btn">
                    <span class="material-icons-sharp">
                        close
                    </span>
                </div>
            </div>

            <div class="sidebar">
                <a href="index.html" >
                    <span class="material-icons-sharp">
                        dashboard
                    </span>
                    <h3>Profile</h3>
                </a>
                
                <a href="time-table.html" >
                    <span class="material-icons-sharp">
                        person_outline
                    </span>
                    <h3>time-table</h3>
                </a>
                
                <a href="resource_portal.html" class="active">
                    <span class="material-icons-sharp">
                        report_gmailerrorred
                    </span>
                    <h3>Resource Portal</h3>
                </a>
                <a href="discussions.html">
                    <span class="material-icons-sharp">
                        settings
                    </span>
                    <h3>Discussions</h3>
                </a>
                
                <a href="#" id="logout-btn">
                    <span class="material-icons-sharp">logout</span>
                    <h3>Logout</h3>
                </a>
            </div>
        </aside>
        <!-- End of Sidebar Section -->

        <!-- Main Content -->
        <main>
            <h1>Resources</h1>
            <!-- Analyses -->
            <div class="analyse">
                <div class="sales">
                    <div class="status">
                      <div class="info">
                        <h3>Total Resources</h3>
                        <h1 id="total-resources">Loading...</h1>
                      </div>
                      <div class="progresss">
                        <svg><circle cx="38" cy="38" r="36"></circle></svg>
                        <div class="percentage"><span class="material-icons-sharp">description</span></div>
                      </div>
                    </div>
                  </div>
                
                
            </div>
            <!-- End of Analyses -->

           <br>

            <div class="new-users">
                
                
                
                
            </div>
                <div class="container-resource" >
                    <div class="resources" style="overflow-y: scroll; height: 300px;">
                        
        
                        <div class="notification">
                            <div class="icon">
                                <span class="material-icons-sharp">
                                    volume_up
                                </span>
                            </div>
                            <div class="content">
                                <div class="info">
                                    <h3>DAA_EndSem_Sample_Paper.pdf</h3>
                                    <small class="text_muted">
                                        Uploaded by - Dr. Manmohit
                                    </small>
                                </div>
                                <span class="material-icons-sharp">
                                    more_vert
                                </span>
                                <div class="download-button"  style="border-radius:20px; height:40px;width:40px;background-color:#c5c5c5; display:flex; align-items:center; justify-content:center;">
                                    <span class="material-icons-sharp">
                                    download
                                    </span>
                                </div>
                            </div>
                        </div>
        
                        <div class="notification deactive">
                            <div class="icon">
                                <span class="material-icons-sharp">
                                    edit
                                </span>
                            </div>
                            <div class="content">
                                <div class="info">
                                    <h3>Poetry_Workshop.jpg</h3>
                                    <small class="text_muted">
                                        Uploaded by - Mr. Lakshya
                                    </small>
                                </div>
                                <span class="material-icons-sharp">
                                    more_vert
                                </span>
                            </div>
                        </div>
                        <div class="notification deactive">
                            <div class="icon">
                                <span class="material-icons-sharp">
                                    edit
                                </span>
                            </div>
                            <div class="content">
                                <div class="info">
                                    <h3>Poetry_Workshop.jpg</h3>
                                    <small class="text_muted">
                                        Uploaded by - Mr. Lakshya
                                    </small>
                                </div>
                                <span class="material-icons-sharp">
                                    more_vert
                                </span>
                            </div>
                        </div>
                        <div class="notification deactive">
                            <div class="icon">
                                <span class="material-icons-sharp">
                                    edit
                                </span>
                            </div>
                            <div class="content">
                                <div class="info">
                                    <h3>Poetry_Workshop.jpg</h3>
                                    <small class="text_muted">
                                        Uploaded by - Mr. Lakshya
                                    </small>
                                </div>
                                <span class="material-icons-sharp">
                                    more_vert
                                </span>
                            </div>
                        </div>
                        <div class="notification deactive">
                            <div class="icon">
                                <span class="material-icons-sharp">
                                    edit
                                </span>
                            </div>
                            <div class="content">
                                <div class="info">
                                    <h3>Poetry_Workshop.jpg</h3>
                                    <small class="text_muted">
                                        Uploaded by - Mr. Lakshya
                                    </small>
                                </div>
                                <span class="material-icons-sharp">
                                    more_vert
                                </span>
                            </div>
                        </div>
                    </div>
                    <div style="display: none;">
                        <div class="file-input" style="display: flex; flex-direction: row; justify-content: space-between; align-items: center; ">
                            <input type="file" id="file-input" multiple hidden />
                            <label for="file-input" style="cursor: pointer; background-color: #007bff; color: white; padding: 10px 15px; border-radius: 5px; display: flex; align-items: center; width: 100%;">
                                <i class="fa-solid fa-arrow-up-from-bracket"></i>
                                &nbsp; Choose Files
                            </label>
                            <button id="resource-upload-button" style="height: 40.8px;width: 40.8px;background-color: #00a6ff; border-radius:10px; margin:10px;">
                                
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M440-160v-487L216-423l-56-57 320-320 320 320-56 57-224-224v487h-80Z"/></svg>
                            </button>
                            
                            
                        </div>
                        
                        <ul id="files-list"></ul>
                        
                    </div>
                    
                </div>
            </div>  
            

        </main>
        <!-- End of Main Content -->

        <!-- Right Section -->
        <div class="right-section">
            <div class="nav">
                <button id="menu-btn">
                    <span class="material-icons-sharp">
                        menu
                    </span>
                </button>
            </div>
            <div class="dark-mode">
                    <span class="material-icons-sharp active">
                        light_mode
                    </span>
                    <span class="material-icons-sharp">
                        dark_mode
                    </span>
            </div>

                <div class="profile">
                    <div class="info">
                        <p>Hey, <b>Aditanshu</b></p>
                        <small class="text-muted">Admin</small>
                    </div>
                    
                </div>

        </div>
            <!-- End of Nav -->

            <div class="user-profile">
                
            </div>

            

      


  

    <script src="orders.js"></script>
    <script src="resource.js"></script>
    <script src="logout.js"></script>
    <script>
        async function loadDashboardStats() {
            try {
              const res = await fetch('http://localhost:5001/dashboard/stats');
              const data = await res.json();
        
              if (data.success) {
                
                const stats = data.data;
                const totalUsers = stats.total_users;
                const faculty = stats.total_faculty;
                const students = stats.total_students;
                const sections = stats.total_sections;
                document.getElementById('total-resources').textContent = stats.total_resources;
                document.getElementById('total-courses').textContent = stats.total_courses;
                document.getElementById('total-enrollments').textContent = stats.total_enrollments;
                document.getElementById('total-credits').textContent = stats.total_credits;
                document.getElementById('total-sections').textContent = sections;
        
                document.getElementById('total-users').textContent = totalUsers;
                document.getElementById('total-faculty').textContent = faculty;
                document.getElementById('total-students').textContent = students;
        
                document.getElementById('faculty-percent').textContent =
                  ((faculty / totalUsers) * 100).toFixed(1) + '%';
                document.getElementById('student-percent').textContent =
                  ((students / totalUsers) * 100).toFixed(1) + '%';
        
                document.getElementById('total-resources').textContent = stats.total_resources;
                
                
              }
            } catch (error) {
              console.error('Failed to load dashboard stats:', error);
            }
          }
        
          window.onload = loadDashboardStats;
        
        
    
    
    
    
      
        </script>
</body>

</html>